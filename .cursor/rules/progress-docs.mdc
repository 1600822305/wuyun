---
description: 开发进度文档管理规范 — progress.md 与 steps/ 子文档的维护规则
globs: docs/progress.md,docs/steps/*.md
alwaysApply: false
---

# 进度文档管理规范

## 文档结构

- `docs/progress.md` — 主文档，只放**精简摘要 + 子文档链接**
- `docs/steps/stepNN_xxx.md` — 子文档，存放**完整详细内容**（原样复制，不缩写）

## 新增 Step 时的操作流程

1. **先写子文档** `docs/steps/stepNN_xxx.md`，包含全部实现细节、测试结果、修改文件等
2. **再更新主文档** `docs/progress.md`，只写 2-4 行摘要 + 链接：

```markdown
### Step N: 标题 ✅ (日期)
> 详细文档: [steps/stepNN_xxx.md](steps/stepNN_xxx.md)

一句话概括做了什么。关键数据/指标。N 测试通过。
```

## 主文档摘要格式要求

- 标题行包含 Step 编号 + 名称 + ✅ + 日期
- 第二行用 `>` 引用链接到子文档
- 正文 2-4 行：核心内容 + 关键指标 + 测试数
- **不要**在主文档放详细的修改文件列表、测试表格、代码块、调优历程等

## 子文档内容要求

- 完整复制所有详细内容（**不缩写、不省略**）
- 包含：目标、实现细节、修改文件、测试结果表格、验证数据、系统状态
- 子文档行数应与原始详细内容一致

## 多个子步骤的归类

- 同一阶段的子步骤合并到一个子文档（如 Step 13-A/B/C/D+E → `step13_closed_loop.md`）
- 后期"补全"内容并入对应阶段的子文档（如 "Step 4 补全" → `step04_memory_learning.md`）
- 主文档中保持 Step 编号递增顺序，不要出现跳号或乱序

## 修复类条目

- 小修复（< 20 行）直接在主文档写 2 行摘要即可
- 大修复（> 20 行）并入最相关的 Step 子文档末尾
