# Step 31: Ablation 诊断 + 精简学习链路

> 日期: 2026-02-08
> 状态: ✅ 完成

## 100 代进化结果

100 代 × 60 个体 Baldwin 进化完成 (23 分钟)。best fitness=2.53 (gen87)。
进化发现 `lgn_gain=500`, `lgn_baseline=19` — 与之前 30 代结果类似。
应用后泛化 -0.13，不如 30 代无小脑版本 (+0.667)。
**结论: 直接编码进化在小脑加入后找不到稳定的泛化解。**

## Ablation Study: 逐个关闭测贡献

```
Config                    | safety | Δ safety | 判断
全开 (baseline)           |  0.08  |  +0.00   |
关 sleep consolidation    |  0.33  |  +0.25   | 最有害 → 禁用
关 cortical STDP          |  0.29  |  +0.20   | 有害(学噪声) → 禁用
关 cerebellum             |  0.27  |  +0.18   | 有害(CF过抑制) → 禁用
关 hippocampus            |  0.14  |  +0.06   | 有害(CA3=6太小) → 禁用
关 SWR replay             |  0.14  |  +0.06   | 有害(重放噪声) → 禁用
关 LHb                    |  0.07  |  -0.01   | 中性 → 保留
关 predictive coding      |  0.00  |  -0.08   | 有用 → 保留
关 amygdala               |  0.00  |  -0.08   | 有用 → 保留
```

**根因: 120 神经元规模下，海马(CA3=6)、皮层STDP(V1=26)、小脑(GrC=12)
的容量不足以形成有意义的学习。反而引入噪声权重更新，干扰 BG DA-STDP。**

## 禁用后结果

| 指标 | 全开 (10环节) | 精简 (5环节) | 变化 |
|------|-------------|-------------|------|
| 泛化优势 | -0.129 | **+0.131** | 翻正! |
| trained safety | 0.250 | **0.833** | 3.3× |
| Test 4 improvement | -0.083 | **+0.072** | 翻正 |
| Test 1 improvement | -0.02 | **+0.22** | 翻正 |

## 精简后的有效学习链路

```
保留 (120n 下有效):
  ① 视觉层级    V1→V2→V4→IT (无 STDP, 纯前馈)
  ② 预测编码    L6 mismatch → STDP 幅度调制 (有正面贡献 -0.08)
  ③ BG DA-STDP  三因子 + 乘法增益 + 侧向抑制 (核心学习)
  ④ VTA DA      奖励/惩罚信号
  ⑥ 杏仁核      one-shot 恐惧学习 (有正面贡献 -0.08)
  ⑧ LHb         负 RPE (中性但无害)

禁用 (代码保留, 等 scale up):
  ⑤ 皮层 STDP   (+0.20 有害, 需要 >100 V1 神经元)
  ⑦ 海马+SWR    (+0.06 有害, 需要 >30 CA3 神经元)
  ⑨ 小脑 CF-LTD (+0.18 有害, 需要 >50 GrC 神经元)
  ⑩ 睡眠巩固    (+0.25 最有害, 过度固化噪声)
```

## 系统状态

```
53区域 · ~90有效闭环神经元 · ~110投射
有效学习链路: BG DA-STDP + 预测编码 + 杏仁核 + VTA/LHb = 5/10
禁用环节: cortical STDP / hippocampus / cerebellum / replay / sleep (代码保留)
泛化: +0.131 (trained=0.833 vs fresh=0.702)
速度: 2.7秒/6测试
```
